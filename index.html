<!DOCTYPE HTML>
<html>
    <head>
        <link rel="stylesheet" type="text/css" href="resources/css/index.css">
        <meta charset="UTF-8">
        <meta name="description" content="Color Palette Viewer">
        <meta name="keywords" content="UI,designer,color-palette">
        <meta name="author" content="Ashok Arora">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    </head>
    <body>
        <input type="range" min="1" max="16" value="1" step="1" class="slider" id="myRange" oninput="create()">
        <h1 id="text"></h1>

        <div class="wrapper">  
            <div class="box box1">
                <input name="Color Picker" type="text" maxlength="6" oninput="color(this)">
            </div>
        </div>  

        <script> 
            var prev = 1;
            var colors = ["#ffffff", "#ffffff", "#ffffff", "#ffffff", "#ffffff", "#ffffff", "#ffffff", "#ffffff", "#ffffff", 
                          "#ffffff", "#ffffff", "#ffffff", "#ffffff", "#ffffff", "#ffffff", "#ffffff"];
            function create(){
                var curr = document.getElementById("myRange").value;
                removeBox(0, prev);
                createBox(1, curr);
                prev = curr;
            }
            function createBox(prev, curr){
                for (var i = prev; i <= curr; i++){
                    $(".wrapper").append('<div class="box box'+i+'">'+'<input name="Color Picker" type="text" maxlength="6" oninput="color(this)"></div>');
                }
            } 
            function removeBox(prev, curr){
                for (var i = curr; i >= prev; i--){
                    $( "div" ).remove( ".box.box" + i );
                }
            }
            function color(currentElement){
                document.getElementById("text").innerHTML = "Colore" + currentElement.parentElement.className + currentElement.value;
                var x = document.getElementsByClassName(currentElement.parentElement.className);
                $(x).css("background-color", '#' + currentElement.value);
                colors[ currentElement.parentElement.className.match(/(\d+)/)[0] - 1 ] = '#'+currentElement.value;
            }
        </script>
    </body>
</html>